<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="VirtualKeyboard.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <!-- Add this style section -->
    <Window.Resources>
        <Style x:Key="KeyButtonStyle" TargetType="Button">
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Background" Value="White"/>
            <Style.Resources>
                <!-- Force Medium FontWeight for TextBlock inside Button -->
                <Style TargetType="TextBlock">
                    <Setter Property="FontWeight" Value="Medium"/>
                    <Setter Property="FontSize" Value="14"/>
                </Style>
            </Style.Resources>
        </Style>
    </Window.Resources>

    <Grid x:Name="RootGrid" Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Grid.RenderTransform>
            <ScaleTransform x:Name="RootScaleTransform" ScaleX="1.0" ScaleY="1.0"/>
        </Grid.RenderTransform>
        
        <Grid.RowDefinitions>
            <RowDefinition Height="42"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Custom Toolbar -->
        <Border Grid.Row="0">
            
            <Grid>
                <!-- Drag region for moving window -->
                <Border x:Name="DragRegion" 
                        Background="Transparent"
                        HorizontalAlignment="Stretch"/>
                
                <!-- Toolbar buttons -->
				<StackPanel Orientation="Horizontal" 
                            Margin="12,6,0,0"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Spacing="6">
                    
                    <Button x:Name="CopyButton"
                            Click="CopyButton_Click"
                            Width="36" Height="30"
                            Padding="0"
                            ToolTipService.ToolTip="Копировать (Ctrl+C)"
                            Background="White">
                        <FontIcon Glyph="&#xE8C8;" FontSize="12"/>
                    </Button>
                    
                    <Button x:Name="CutButton"
                            Click="CutButton_Click"
                            Width="36" Height="30"
                            Padding="0"
                            ToolTipService.ToolTip="Вырезать (Ctrl+X)"
                            Background="White">
                        <FontIcon Glyph="&#xE8C6;" FontSize="12"/>
                    </Button>
                    
                    <Button x:Name="PasteButton"
                            Click="PasteButton_Click"
                            Width="36" Height="30"
                            Padding="0"
                            ToolTipService.ToolTip="Вставить (Ctrl+V)"
                            Background="White">
                        <FontIcon Glyph="&#xE77F;" FontSize="12"/>
                    </Button>
                    
                    <Button x:Name="DeleteButton"
                            Click="DeleteButton_Click"
                            Width="36" Height="30"
                            Padding="0"
                            ToolTipService.ToolTip="Удалить"
                            Background="White">
                        <FontIcon Glyph="&#xE74D;" FontSize="12"/>
                    </Button>
                    
                    <Button x:Name="SelectAllButton"
                            Click="SelectAllButton_Click"
                            Width="36" Height="30"
                            Padding="0"
                            ToolTipService.ToolTip="Выделить всё (Ctrl+A)"
                            Background="White">
                        <FontIcon Glyph="&#xE8B3;" FontSize="12"/>
                    </Button>
                    
                </StackPanel>
            </Grid>
        </Border>

        <!-- Keyboard Layout -->
        <ScrollViewer Grid.Row="1">
            <StackPanel Margin="12,3,12,12" Spacing="6">
                
                <!-- Row 1: Numbers and special chars -->
                <StackPanel Orientation="Horizontal" Spacing="6">
                    <Button Content="Esc" Tag="Esc" Click="KeyButton_Click" Width="54" Height="36" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="1" Tag="1" Click="KeyButton_Click" Width="54" Height="36" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="2" Tag="2" Click="KeyButton_Click" Width="54" Height="36" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="3" Tag="3" Click="KeyButton_Click" Width="54" Height="36" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="4" Tag="4" Click="KeyButton_Click" Width="54" Height="36" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="5" Tag="5" Click="KeyButton_Click" Width="54" Height="36" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="6" Tag="6" Click="KeyButton_Click" Width="54" Height="36" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="7" Tag="7" Click="KeyButton_Click" Width="54" Height="36" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="8" Tag="8" Click="KeyButton_Click" Width="54" Height="36" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="9" Tag="9" Click="KeyButton_Click" Width="54" Height="36" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="0" Tag="0" Click="KeyButton_Click" Width="54" Height="36" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="-" Tag="-" Click="KeyButton_Click" Width="54" Height="36" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="+" Tag="+" Click="KeyButton_Click" Width="54" Height="36" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="=" Tag="=" Click="KeyButton_Click" Width="54" Height="36" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Tag="Backspace" Click="KeyButton_Click" Width="120" Height="36" Style="{StaticResource KeyButtonStyle}" ToolTipService.ToolTip="Backspace" HorizontalContentAlignment="Right" Padding="0,0,18,0">
                        <FontIcon Glyph="&#xE750;" FontSize="16"/>
                    </Button>
                </StackPanel>

                <!-- Row 2: QWERTY row -->
                <StackPanel Orientation="Horizontal" Spacing="6">
                    <Button Content="Tab" Tag="Tab" Click="KeyButton_Click" Width="120" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="q" Tag="q" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="w" Tag="w" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="e" Tag="e" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="r" Tag="r" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="t" Tag="t" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="y" Tag="y" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="u" Tag="u" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="i" Tag="i" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="o" Tag="o" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="p" Tag="p" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="(" Tag="(" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content=")" Tag=")" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="/" Tag="/" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="*" Tag="*" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                </StackPanel>

                <!-- Row 3: ASDF row -->
                <StackPanel Orientation="Horizontal" Spacing="6">
                    <Button Content="Caps" Tag="Caps" Click="KeyButton_Click" Width="147" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="a" Tag="a" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="s" Tag="s" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="d" Tag="d" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="f" Tag="f" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="g" Tag="g" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="h" Tag="h" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="j" Tag="j" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="k" Tag="k" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="l" Tag="l" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content=":" Tag=":" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content=";" Tag=";" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Tag="Enter" Click="KeyButton_Click" Width="147" Height="54" Style="{StaticResource KeyButtonStyle}" ToolTipService.ToolTip="Enter" HorizontalContentAlignment="Right" Padding="0,0,18,0">
                        <FontIcon Glyph="&#xE751;" FontSize="20"/>
                    </Button>
                </StackPanel>

                <!-- Row 4: ZXCV row -->
                <StackPanel Orientation="Horizontal" Spacing="6">
                    <Button Tag="Shift" Click="KeyButton_Click" Width="180" Height="54" Style="{StaticResource KeyButtonStyle}" ToolTipService.ToolTip="Shift" HorizontalContentAlignment="Left" Padding="18,0,0,0">
                        <FontIcon Glyph="&#xE752;" FontSize="20"/>
                    </Button>
                    <Button Content="z" Tag="z" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="x" Tag="x" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="c" Tag="c" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="v" Tag="v" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="b" Tag="b" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="n" Tag="n" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="m" Tag="m" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="&lt;" Tag="&lt;" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="&gt;" Tag="&gt;" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="!" Tag="!" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="?" Tag="?" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
					<Button Tag="↑" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}">
                        <FontIcon Glyph="&#xE64C;" FontSize="12"/>
                    </Button>
					<Button Tag="&amp;.." Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}">
                        <FontIcon Glyph="&#xED58;" FontSize="12"/>
                    </Button>
                </StackPanel>

                <!-- Row 5: Bottom row -->
                <StackPanel Orientation="Horizontal" Spacing="6">
                    <Button Content="Lang" Tag="Lang" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="Ctrl" Tag="Ctrl" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="Alt" Tag="Alt" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="&quot;" Tag="&quot;" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content=" " Tag=" " Click="KeyButton_Click" Width="420" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="," Tag="," Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
                    <Button Content="." Tag="." Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}"/>
					<Button Tag="←" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}">
                        <FontIcon Glyph="&#xE64E;" FontSize="12"/>
                    </Button>
					<Button Tag="↓" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}">
                        <FontIcon Glyph="&#xE64B;" FontSize="12"/>
                    </Button>
					<Button Tag="→" Click="KeyButton_Click" Width="54" Height="54" Style="{StaticResource KeyButtonStyle}">
                        <FontIcon Glyph="&#xE64D;" FontSize="12"/>
                    </Button>
                </StackPanel>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>