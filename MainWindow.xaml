<Window
    x:Class="VirtualKeyboard.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <ScrollViewer>
        <StackPanel Margin="16" Spacing="4" Width="760">
            
            <!-- Row 1: Total width = 15*40 + 14*4 = 600 + 56 = 656 + (Backspace flexible) -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <Button Content="Esc" Tag="Esc" Click="KeyButton_Click" Grid.Column="0" Height="40"/>
                <Button Content="1" Tag="1" Click="KeyButton_Click" Grid.Column="2" Height="40"/>
                <Button Content="2" Tag="2" Click="KeyButton_Click" Grid.Column="4" Height="40"/>
                <Button Content="3" Tag="3" Click="KeyButton_Click" Grid.Column="6" Height="40"/>
                <Button Content="4" Tag="4" Click="KeyButton_Click" Grid.Column="8" Height="40"/>
                <Button Content="5" Tag="5" Click="KeyButton_Click" Grid.Column="10" Height="40"/>
                <Button Content="6" Tag="6" Click="KeyButton_Click" Grid.Column="12" Height="40"/>
                <Button Content="7" Tag="7" Click="KeyButton_Click" Grid.Column="14" Height="40"/>
                <Button Content="8" Tag="8" Click="KeyButton_Click" Grid.Column="16" Height="40"/>
                <Button Content="9" Tag="9" Click="KeyButton_Click" Grid.Column="18" Height="40"/>
                <Button Content="0" Tag="0" Click="KeyButton_Click" Grid.Column="20" Height="40"/>
                <Button Content="-" Tag="-" Click="KeyButton_Click" Grid.Column="22" Height="40"/>
                <Button Content="+" Tag="+" Click="KeyButton_Click" Grid.Column="24" Height="40"/>
                <Button Content="=" Tag="=" Click="KeyButton_Click" Grid.Column="26" Height="40"/>
                <Button Content="Backspace" Tag="Backspace" Click="KeyButton_Click" Grid.Column="28" Height="40"/>
            </Grid>

            <!-- Row 2: Tab flexible, 13*40 buttons -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                </Grid.ColumnDefinitions>
                
                <Button Content="Tab" Tag="Tab" Click="KeyButton_Click" Grid.Column="0" Height="40"/>
                <Button Content="q" Tag="q" Click="KeyButton_Click" Grid.Column="2" Height="40"/>
                <Button Content="w" Tag="w" Click="KeyButton_Click" Grid.Column="4" Height="40"/>
                <Button Content="e" Tag="e" Click="KeyButton_Click" Grid.Column="6" Height="40"/>
                <Button Content="r" Tag="r" Click="KeyButton_Click" Grid.Column="8" Height="40"/>
                <Button Content="t" Tag="t" Click="KeyButton_Click" Grid.Column="10" Height="40"/>
                <Button Content="y" Tag="y" Click="KeyButton_Click" Grid.Column="12" Height="40"/>
                <Button Content="u" Tag="u" Click="KeyButton_Click" Grid.Column="14" Height="40"/>
                <Button Content="i" Tag="i" Click="KeyButton_Click" Grid.Column="16" Height="40"/>
                <Button Content="o" Tag="o" Click="KeyButton_Click" Grid.Column="18" Height="40"/>
                <Button Content="p" Tag="p" Click="KeyButton_Click" Grid.Column="20" Height="40"/>
                <Button Content="(" Tag="(" Click="KeyButton_Click" Grid.Column="22" Height="40"/>
                <Button Content=")" Tag=")" Click="KeyButton_Click" Grid.Column="24" Height="40"/>
                <Button Content="/" Tag="/" Click="KeyButton_Click" Grid.Column="26" Height="40"/>
                <Button Content="*" Tag="*" Click="KeyButton_Click" Grid.Column="28" Height="40"/>
            </Grid>

            <!-- Row 3: Caps flexible, 10*40 buttons, Enter flexible -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <Button Content="Caps" Tag="Caps" Click="KeyButton_Click" Grid.Column="0" Height="40"/>
                <Button Content="a" Tag="a" Click="KeyButton_Click" Grid.Column="2" Height="40"/>
                <Button Content="s" Tag="s" Click="KeyButton_Click" Grid.Column="4" Height="40"/>
                <Button Content="d" Tag="d" Click="KeyButton_Click" Grid.Column="6" Height="40"/>
                <Button Content="f" Tag="f" Click="KeyButton_Click" Grid.Column="8" Height="40"/>
                <Button Content="g" Tag="g" Click="KeyButton_Click" Grid.Column="10" Height="40"/>
                <Button Content="h" Tag="h" Click="KeyButton_Click" Grid.Column="12" Height="40"/>
                <Button Content="j" Tag="j" Click="KeyButton_Click" Grid.Column="14" Height="40"/>
                <Button Content="k" Tag="k" Click="KeyButton_Click" Grid.Column="16" Height="40"/>
                <Button Content="l" Tag="l" Click="KeyButton_Click" Grid.Column="18" Height="40"/>
                <Button Content=":" Tag=":" Click="KeyButton_Click" Grid.Column="20" Height="40"/>
                <Button Content=";" Tag=";" Click="KeyButton_Click" Grid.Column="22" Height="40"/>
                <Button Content="Enter" Tag="Enter" Click="KeyButton_Click" Grid.Column="24" Height="40"/>
            </Grid>

            <!-- Row 4: Shift flexible, 12*40 buttons -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                </Grid.ColumnDefinitions>
                
                <Button Content="Shift" Tag="Shift" Click="KeyButton_Click" Grid.Column="0" Height="40"/>
                <Button Content="z" Tag="z" Click="KeyButton_Click" Grid.Column="2" Height="40"/>
                <Button Content="x" Tag="x" Click="KeyButton_Click" Grid.Column="4" Height="40"/>
                <Button Content="c" Tag="c" Click="KeyButton_Click" Grid.Column="6" Height="40"/>
                <Button Content="v" Tag="v" Click="KeyButton_Click" Grid.Column="8" Height="40"/>
                <Button Content="b" Tag="b" Click="KeyButton_Click" Grid.Column="10" Height="40"/>
                <Button Content="n" Tag="n" Click="KeyButton_Click" Grid.Column="12" Height="40"/>
                <Button Content="m" Tag="m" Click="KeyButton_Click" Grid.Column="14" Height="40"/>
                <Button Content="&lt;" Tag="&lt;" Click="KeyButton_Click" Grid.Column="16" Height="40"/>
                <Button Content="&gt;" Tag="&gt;" Click="KeyButton_Click" Grid.Column="18" Height="40"/>
                <Button Content="!" Tag="!" Click="KeyButton_Click" Grid.Column="20" Height="40"/>
                <Button Content="?" Tag="?" Click="KeyButton_Click" Grid.Column="22" Height="40"/>
                <Button Content="↑" Tag="↑" Click="KeyButton_Click" Grid.Column="24" Height="40"/>
                <Button Content="Lang" Tag="Lang" Click="KeyButton_Click" Grid.Column="26" Height="40"/>
            </Grid>

            <!-- Row 5: Space flexible, other buttons fixed -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="40"/>
                </Grid.ColumnDefinitions>
                
                <Button Content="&amp;.." Grid.Column="0" Height="40"/>
                <Button Content="Ctrl" Tag="Ctrl" Click="KeyButton_Click" Grid.Column="2" Height="40"/>
                <Button Content="Alt" Tag="Alt" Click="KeyButton_Click" Grid.Column="4" Height="40"/>
                <Button Content="&quot;" Tag="&quot;" Click="KeyButton_Click" Grid.Column="6" Height="40"/>
                <Button Content=" " Tag=" " Click="KeyButton_Click" Grid.Column="8" Height="40"/>
                <Button Content="," Tag="," Click="KeyButton_Click" Grid.Column="10" Height="40"/>
                <Button Content="." Tag="." Click="KeyButton_Click" Grid.Column="12" Height="40"/>
                <Button Content="←" Tag="←" Click="KeyButton_Click" Grid.Column="14" Height="40"/>
                <Button Content="↓" Tag="↓" Click="KeyButton_Click" Grid.Column="16" Height="40"/>
                <Button Content="→" Tag="→" Click="KeyButton_Click" Grid.Column="18" Height="40"/>
            </Grid>

        </StackPanel>
    </ScrollViewer>
</Window>